{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Success.js","components/Error.js","services/persons.js","App.js","index.js"],"names":["Filter","filter","updateFilter","value","onChange","PersonForm","newName","submitPerson","updateName","updateNumber","onSubmit","type","Person","person","deleteHandler","name","number","onClick","Persons","persons","p","toLowerCase","includes","map","key","Success","msg","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Error","rootUrl","idUrl","id","axios","get","then","res","data","newPerson","post","delete","console","log","put","App","useState","setPersons","setNewName","newNumber","setNewNumber","setFilter","successMsg","setSuccessMsg","successTimer","setSuccessTimer","errorMsg","setErrorMsg","errorTimer","setErrorTimer","useEffect","personsService","updateSuccessMsg","clearTimeout","timerId","setTimeout","event","target","preventDefault","search","length","updated","_","updatedPersons","catch","err","updateErrorMsg","concat","targetPerson","newPersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.09f69871.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ filter, updateFilter }) => (\n    <form value={filter}>\n        <div>\n            filter shown with <input onChange={updateFilter} />\n        </div>\n    </form>\n)\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = ({ newName, submitPerson, updateName, updateNumber }) => (\n    <form\n        value={newName}\n        onSubmit={submitPerson}\n    >\n        <div>\n            name: <input onChange={updateName} />\n        </div>\n        <div>\n            number: <input onChange={updateNumber} />\n        </div>\n        <div>\n            <button type=\"submit\">add</button>\n        </div>\n    </form>\n)\n\nexport default PersonForm\n","import React from 'react'\n\nconst Person = ({ person, deleteHandler }) => {\n\n    return <div>{person.name} {person.number} <button onClick={() => deleteHandler(person)}>delete</button></div>\n}\n\nconst Persons = ({ persons, filter, deleteHandler }) => {\n\n    return persons\n        .filter(p => p.name.toLowerCase().includes(filter.toLowerCase()))\n        .map(p => <Person key={p.name} person={p} deleteHandler={deleteHandler} />)\n}\n\nexport default Persons\n","import React from 'react'\n\nconst Success = ({ msg }) => {\n    const successStyle = {\n        color: 'green',\n        background: 'lightgreen',\n        fontSize: '20px',\n        borderStyle: 'solid',\n        borderRadius: '5px',\n        padding: '10px',\n        marginBottom: '10px',\n    }\n\n    if (msg === null) {\n        return null\n    } else {\n        return <div style={successStyle}>{msg}</div>\n    }\n}\n\nexport default Success\n","import React from 'react'\n\nconst Error = ({ msg }) => {\n    const errorStyle = {\n        color: 'red',\n        background: 'pink',\n        fontSize: '20px',\n        borderStyle: 'solid',\n        borderRadius: '5px',\n        padding: '10px',\n        marginBottom: '10px',\n    }\n\n    if (msg === null) {\n        return null\n    } else {\n        return <div style={errorStyle}>{msg}</div>\n    }\n}\n\nexport default Error\n","import axios from 'axios'\n\nconst rootUrl = 'http://localhost:3001/api/persons'\nconst idUrl = id => `${rootUrl}/${id}`\n\nconst getAll = () => {\n    return axios.get(rootUrl)\n        .then(res => res.data)\n}\n\nconst create = newPerson => {\n    return axios.post(rootUrl, newPerson)\n        .then(res => res.data)\n}\n\nconst remove = id => {\n    return axios.delete(idUrl(id))\n}\n\nconst update = person => {\n    console.log('updating', person)\n    return axios.put(idUrl(person.id), person)\n}\n\nexport default { getAll, create, remove, update }\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter.js'\nimport PersonForm from './components/PersonForm.js'\nimport Persons from './components/Persons.js'\nimport Success from './components/Success.js'\nimport Error from './components/Error.js'\nimport personsService from './services/persons.js'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [successMsg, setSuccessMsg] = useState(null)\n  const [successTimer, setSuccessTimer] = useState(null)\n  const [errorMsg, setErrorMsg] = useState(null)\n  const [errorTimer, setErrorTimer] = useState(null)\n\n  useEffect(() => {\n    personsService.getAll()\n      .then(persons => setPersons(persons))\n  }, [])\n\n  const updateSuccessMsg = msg => {\n    setSuccessMsg(msg)\n    clearTimeout(successTimer)\n    const timerId = setTimeout(() => {\n      setSuccessMsg(null)\n    }, 5000)\n    setSuccessTimer(timerId)\n  }\n\n  const updateErrorMsg = msg => {\n    setErrorMsg(msg)\n    clearTimeout(errorTimer)\n    const timerId = setTimeout(() => {\n      setErrorMsg(null)\n    }, 5000)\n    setErrorTimer(timerId)\n  }\n\n  const submitPerson = (event) => {\n    event.preventDefault()\n    const search = persons.filter(p => p.name === newName)\n    console.log(search)\n    if (search.length > 0) {\n      const updated = { ...search[0], number: newNumber }\n      personsService.update(updated)\n        .then(_ => {\n          const updatedPersons = persons.map(p => p.id === updated.id ? updated : p)\n          setPersons(updatedPersons)\n          updateSuccessMsg(`updated ${updated.name}`)\n        })\n        .catch(err => {\n          const updatedPersons = persons.filter(p => p.id !== updated.id)\n          setPersons(updatedPersons)\n          updateErrorMsg(`Information of ${updated.name} has already been removed from server`)\n        })\n    } else {\n      const newPerson = { name: newName, number: newNumber }\n      personsService.create(newPerson)\n        .then(newPerson => setPersons(persons.concat(newPerson)))\n      updateSuccessMsg(`added ${newPerson.name}`)\n    }\n  }\n\n  const deleteHandler = (targetPerson) => {\n    personsService.remove(targetPerson.id)\n      .then(res => {\n        const newPersons = persons.filter(person => person.id !== targetPerson.id)\n        setPersons(newPersons)\n        updateSuccessMsg(`deleted ${targetPerson.name}`)\n      })\n  }\n  const updateName = (event) => setNewName(event.target.value)\n  const updateNumber = (event) => setNewNumber(event.target.value)\n  const updateFilter = (event) => setFilter(event.target.value)\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Success msg={successMsg} />\n      <Error msg={errorMsg} />\n\n      <Filter filter={filter} updateFilter={updateFilter} />\n\n      <h3>Add a new</h3>\n      <PersonForm newName={newName} submitPerson={submitPerson} updateName={updateName} updateNumber={updateNumber} />\n\n      <h3>Numbers</h3>\n      <Persons persons={persons} filter={filter} deleteHandler={deleteHandler} />\n    </div >\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}