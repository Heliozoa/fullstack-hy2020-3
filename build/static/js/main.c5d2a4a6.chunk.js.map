{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Success.js","components/Error.js","services/persons.js","App.js","index.js"],"names":["Filter","filter","updateFilter","value","onChange","PersonForm","newName","submitPerson","updateName","updateNumber","onSubmit","type","Person","person","deleteHandler","name","number","onClick","Persons","persons","p","toLowerCase","includes","map","key","Success","msg","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Error","idUrl","id","axios","get","then","res","data","newPerson","post","delete","put","App","useState","setPersons","setNewName","newNumber","setNewNumber","setFilter","successMsg","setSuccessMsg","successTimer","setSuccessTimer","errorMsg","setErrorMsg","errorTimer","setErrorTimer","useEffect","personsService","updateSuccessMsg","clearTimeout","timerId","setTimeout","updateErrorMsg","event","target","preventDefault","existing","find","updated","console","log","newPersons","catch","e","response","error","concat","targetPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c5d2a4a6.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ filter, updateFilter }) => (\n    <form value={filter}>\n        <div>\n            filter shown with <input onChange={updateFilter} />\n        </div>\n    </form>\n)\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = ({ newName, submitPerson, updateName, updateNumber }) => (\n    <form\n        value={newName}\n        onSubmit={submitPerson}\n    >\n        <div>\n            name: <input onChange={updateName} />\n        </div>\n        <div>\n            number: <input onChange={updateNumber} />\n        </div>\n        <div>\n            <button type=\"submit\">add</button>\n        </div>\n    </form>\n)\n\nexport default PersonForm\n","import React from 'react'\n\nconst Person = ({ person, deleteHandler }) => {\n\n    return <div>{person.name} {person.number} <button onClick={() => deleteHandler(person)}>delete</button></div>\n}\n\nconst Persons = ({ persons, filter, deleteHandler }) => {\n\n    return persons\n        .filter(p => p.name.toLowerCase().includes(filter.toLowerCase()))\n        .map(p => <Person key={p.name} person={p} deleteHandler={deleteHandler} />)\n}\n\nexport default Persons\n","import React from 'react'\n\nconst Success = ({ msg }) => {\n    const successStyle = {\n        color: 'green',\n        background: 'lightgreen',\n        fontSize: '20px',\n        borderStyle: 'solid',\n        borderRadius: '5px',\n        padding: '10px',\n        marginBottom: '10px',\n    }\n\n    if (msg === null) {\n        return null\n    } else {\n        return <div style={successStyle}>{msg}</div>\n    }\n}\n\nexport default Success\n","import React from 'react'\n\nconst Error = ({ msg }) => {\n    const errorStyle = {\n        color: 'red',\n        background: 'pink',\n        fontSize: '20px',\n        borderStyle: 'solid',\n        borderRadius: '5px',\n        padding: '10px',\n        marginBottom: '10px',\n    }\n\n    if (msg === null) {\n        return null\n    } else {\n        return <div style={errorStyle}>{msg}</div>\n    }\n}\n\nexport default Error\n","import axios from 'axios'\n\nconst rootUrl = '/api/persons'\nconst idUrl = id => `${rootUrl}/${id}`\n\nconst getAll = () => {\n    return axios.get(rootUrl)\n        .then(res => res.data)\n}\n\nconst create = newPerson => {\n    return axios.post(rootUrl, newPerson)\n        .then(res => res.data)\n}\n\nconst remove = id => {\n    return axios.delete(idUrl(id))\n}\n\nconst update = person => {\n    return axios.put(idUrl(person.id), person)\n}\n\nexport default { getAll, create, remove, update }\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter.js'\nimport PersonForm from './components/PersonForm.js'\nimport Persons from './components/Persons.js'\nimport Success from './components/Success.js'\nimport Error from './components/Error.js'\nimport personsService from './services/persons.js'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [successMsg, setSuccessMsg] = useState(null)\n  const [successTimer, setSuccessTimer] = useState(null)\n  const [errorMsg, setErrorMsg] = useState(null)\n  const [errorTimer, setErrorTimer] = useState(null)\n\n  useEffect(() => {\n    personsService.getAll()\n      .then(persons => setPersons(persons))\n  }, [])\n\n  const updateSuccessMsg = msg => {\n    setSuccessMsg(msg)\n    clearTimeout(successTimer)\n    const timerId = setTimeout(() => {\n      setSuccessMsg(null)\n    }, 5000)\n    setSuccessTimer(timerId)\n  }\n\n  const updateErrorMsg = msg => {\n    setErrorMsg(msg)\n    clearTimeout(errorTimer)\n    const timerId = setTimeout(() => {\n      setErrorMsg(null)\n    }, 5000)\n    setErrorTimer(timerId)\n  }\n\n  const submitPerson = (event) => {\n    event.preventDefault()\n    personsService.getAll()\n      .then(persons => {\n        const existing = persons.find(p => p.name === newName)\n        if (!existing) {\n          const newPerson = { name: newName, number: newNumber }\n          personsService.create(newPerson)\n            .then(newPerson => {\n\n              updateSuccessMsg(`added ${newPerson.name}`)\n              setPersons(persons.concat(newPerson))\n            })\n            .catch(e => {\n              const msg = e.response.data.error\n              console.error(msg)\n              updateErrorMsg(msg)\n            })\n        } else {\n          const updated = {\n            ...existing,\n            number: newNumber,\n          }\n          console.log(\"updating\", existing, \"to\", updated)\n          personsService.update(updated)\n            .then(res => {\n              const updated = res.data\n              const newPersons = persons.filter(p => p.id !== updated.id)\n              setPersons([...newPersons, updated])\n            })\n            .catch(e => {\n              const msg = e.response.data.error\n              console.error(msg)\n              updateErrorMsg(msg)\n            })\n        }\n      })\n  }\n\n  const deleteHandler = (targetPerson) => {\n    personsService.remove(targetPerson.id)\n      .then(res => {\n        const newPersons = persons.filter(person => person.id !== targetPerson.id)\n        setPersons(newPersons)\n        updateSuccessMsg(`deleted ${targetPerson.name}`)\n      })\n  }\n  const updateName = (event) => setNewName(event.target.value)\n  const updateNumber = (event) => setNewNumber(event.target.value)\n  const updateFilter = (event) => setFilter(event.target.value)\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Success msg={successMsg} />\n      <Error msg={errorMsg} />\n\n      <Filter filter={filter} updateFilter={updateFilter} />\n\n      <h3>Add a new</h3>\n      <PersonForm newName={newName} submitPerson={submitPerson} updateName={updateName} updateNumber={updateNumber} />\n\n      <h3>Numbers</h3>\n      <Persons persons={persons} filter={filter} deleteHandler={deleteHandler} />\n    </div >\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}