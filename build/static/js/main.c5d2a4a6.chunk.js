(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{16:function(e,t,n){e.exports=n(38)},38:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),u=n(13),l=n.n(u),o=n(14),c=n(15),i=n(2),d=function(e){var t=e.filter,n=e.updateFilter;return a.a.createElement("form",{value:t},a.a.createElement("div",null,"filter shown with ",a.a.createElement("input",{onChange:n})))},m=function(e){var t=e.newName,n=e.submitPerson,r=e.updateName,u=e.updateNumber;return a.a.createElement("form",{value:t,onSubmit:n},a.a.createElement("div",null,"name: ",a.a.createElement("input",{onChange:r})),a.a.createElement("div",null,"number: ",a.a.createElement("input",{onChange:u})),a.a.createElement("div",null,a.a.createElement("button",{type:"submit"},"add")))},s=function(e){var t=e.person,n=e.deleteHandler;return a.a.createElement("div",null,t.name," ",t.number," ",a.a.createElement("button",{onClick:function(){return n(t)}},"delete"))},f=function(e){var t=e.persons,n=e.filter,r=e.deleteHandler;return t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})).map((function(e){return a.a.createElement(s,{key:e.name,person:e,deleteHandler:r})}))},p=function(e){var t=e.msg;return null===t?null:a.a.createElement("div",{style:{color:"green",background:"lightgreen",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"}},t)},b=function(e){var t=e.msg;return null===t?null:a.a.createElement("div",{style:{color:"red",background:"pink",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"}},t)},v=n(3),E=n.n(v),h=function(e){return"".concat("/api/persons","/").concat(e)},g=function(){return E.a.get("/api/persons").then((function(e){return e.data}))},j=function(e){return E.a.post("/api/persons",e).then((function(e){return e.data}))},O=function(e){return E.a.delete(h(e))},S=function(e){return E.a.put(h(e.id),e)},w=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],u=t[1],l=Object(r.useState)(""),s=Object(i.a)(l,2),v=s[0],E=s[1],h=Object(r.useState)(""),w=Object(i.a)(h,2),x=w[0],k=w[1],y=Object(r.useState)(""),N=Object(i.a)(y,2),C=N[0],H=N[1],T=Object(r.useState)(null),B=Object(i.a)(T,2),P=B[0],z=B[1],F=Object(r.useState)(null),J=Object(i.a)(F,2),L=J[0],R=J[1],A=Object(r.useState)(null),D=Object(i.a)(A,2),I=D[0],q=D[1],G=Object(r.useState)(null),K=Object(i.a)(G,2),M=K[0],Q=K[1];Object(r.useEffect)((function(){g().then((function(e){return u(e)}))}),[]);var U=function(e){z(e),clearTimeout(L);var t=setTimeout((function(){z(null)}),5e3);R(t)},V=function(e){q(e),clearTimeout(M);var t=setTimeout((function(){q(null)}),5e3);Q(t)};return a.a.createElement("div",null,a.a.createElement("h2",null,"Phonebook"),a.a.createElement(p,{msg:P}),a.a.createElement(b,{msg:I}),a.a.createElement(d,{filter:C,updateFilter:function(e){return H(e.target.value)}}),a.a.createElement("h3",null,"Add a new"),a.a.createElement(m,{newName:v,submitPerson:function(e){e.preventDefault(),g().then((function(e){var t=e.find((function(e){return e.name===v}));if(t){var n=Object(c.a)({},t,{number:x});console.log("updating",t,"to",n),S(n).then((function(t){var n=t.data,r=e.filter((function(e){return e.id!==n.id}));u([].concat(Object(o.a)(r),[n]))})).catch((function(e){var t=e.response.data.error;console.error(t),V(t)}))}else{j({name:v,number:x}).then((function(t){U("added ".concat(t.name)),u(e.concat(t))})).catch((function(e){var t=e.response.data.error;console.error(t),V(t)}))}}))},updateName:function(e){return E(e.target.value)},updateNumber:function(e){return k(e.target.value)}}),a.a.createElement("h3",null,"Numbers"),a.a.createElement(f,{persons:n,filter:C,deleteHandler:function(e){O(e.id).then((function(t){var r=n.filter((function(t){return t.id!==e.id}));u(r),U("deleted ".concat(e.name))}))}}))};l.a.render(a.a.createElement(w,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.c5d2a4a6.chunk.js.map